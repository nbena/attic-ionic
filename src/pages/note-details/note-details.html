<!--
  Generated template for the NoteDetails page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar color="primary">
    <ion-title>{{title}}</ion-title>
    <button ion-button icon-only menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <button ion-button icon-only right (click)="showPopover($event)">
      <ion-icon name="more"></ion-icon>
    </button>
  </ion-navbar>

</ion-header>

<!-- <ion-icon name="refresh"></ion-icon>-->

<ion-content padding>



<ion-refresher (ionRefresh)="refresh($event)">
  <ion-refresher-content></ion-refresher-content>
</ion-refresher>

<ion-card>

  <ion-list>


      <ion-item>
        <ion-label>
          {{note?.title}}
        </ion-label>
      </ion-item>


      <ion-item text-wrap>
        <ion-label>
          {{note?.text}}
        </ion-label>
      </ion-item>

<!--
      <ion-chip #chip2>
        <ion-icon name="pin" color="primary"></ion-icon>
        <ion-label>With Icon</ion-label>
        <button ion-button (click)="delete(chip2)">
          <ion-icon name="close"></ion-icon>
        </button>
      </ion-chip>-->

      <ion-item>
        <!-- <ion-label> -->
          Main tags
        <!-- </ion-label> -->
        <ion-list>
          <ion-chip *ngFor="let mainTag of mainTags; let i=index" (click)="displayTagDetails(mainTag._id, mainTag.title)">
            <ion-label>
            {{mainTag.title}}
            </ion-label>
            <!--<ion-icon name="pin" color="primary"></ion-icon>-->
            <button ion-button (click)="deleteMainTags($event, i)">
              <ion-icon name="close"></ion-icon>
            </button>
          </ion-chip>
        </ion-list>
      </ion-item>




      <ion-item>
        <!-- <ion-label> -->
          Other tags
        <!-- </ion-label> -->
        <ion-list>
          <ion-chip *ngFor="let otherTag of otherTags; let i=index" (click)="displayTagDetails(otherTag._id, otherTag.title)">
            <ion-label>
            {{otherTag.title}}
          </ion-label>
          <button ion-button (click)="deleteOtherTags($event, i)">
            <ion-icon name="close"></ion-icon>
          </button>
          </ion-chip>
        </ion-list>
    </ion-item>


      <!-- <ion-item>
        <ion-label>
          Done: {{note?.isDone}}
        </ion-label>
      </ion-item> -->

      <ion-item>
        <ion-label>Done:</ion-label>
        <ion-toggle [(ngModel)]="isDone" (ionChange)="isDoneChanges()"></ion-toggle>
      </ion-item>


      <ion-item>
        Links
        <ion-list>
          <ion-chip *ngFor="let link of links; let i=index" (click)="browse(link)">
            <ion-label>
              {{link}}
            </ion-label>
            <button ion-button (click)="deleteLinks($event, i)">
              <ion-icon name="close"></ion-icon>
            </button>
          </ion-chip>
        </ion-list>
      </ion-item>


<!--using angular pipes to display dates. -->
      <ion-item>
        <ion-label>
          Created:
        </ion-label>
        <ion-label>
          {{note?.creationDate | date:'mediumDate'}}
        </ion-label>
      </ion-item>

      <ion-item>
        <ion-label>
          Last modification:
        </ion-label>
        <ion-label>
          {{note?.lastModificationDate | date:'mediumDate'}}
        </ion-label>
      </ion-item>


    </ion-list>

    <button ion-button full [disabled]="!submitChangeEnabled" (click)="submit()">Submit change</button>

  </ion-card>
  <!-- </ion-refresher-content>
  </ion-refresher> -->

</ion-content>
